<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>360° Image Stitcher</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Simple 360 viewer using Pannellum or just display regular image first? Let's display regular image first. -->
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="10"></circle><path d="M22 12h-4"></path><path d="M6 12H2"></path><path d="M12 6V2"></path><path d="M12 22v-4"></path></svg>
                <span>360° Stitcher</span>
            </div>
            <p class="subtitle">Transform your flat photos into immersive 360° panoramas.</p>
        </header>

        <main>
            <div class="upload-area" id="drop-zone">
                <div class="icon-upload">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                </div>
                <h3>Drag & Drop photos here</h3>
                <p>or</p>
                <input type="file" id="file-input" multiple accept="image/*" hidden>
                <button class="btn-primary" onclick="document.getElementById('file-input').click()">Browse Files</button>
                <p class="hint">Upload at least 2 overlapping images (JPG, PNG)</p>
            </div>

            <div id="file-list" class="file-list hidden"></div>

            <div id="progress-container" class="hidden">
                <div class="spinner"></div>
                <p id="status-text">Stitching images... Please wait...</p>
            </div>

            <div id="result-container" class="hidden">
                <h2>Result</h2>
                <div class="result-image-wrapper">
                    <img id="result-image" src="" alt="Stitched Panorama">
                </div>
                <div class="actions">
                    <a id="download-link" href="#" download="360_panorama.jpg" class="btn-secondary">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                        Download Image
                    </a>
                    <button class="btn-primary" onclick="location.reload()">Stitch More</button>
                </div>
            </div>
            
            <div id="error-message" class="error-message hidden"></div>
        </main>
    </div>
    <script src="/static/script.js"></script>
</body>
</html>
